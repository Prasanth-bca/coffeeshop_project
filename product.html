<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Our Coffee Products</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    /* =====================
       COLOR PALETTE & THEMING
       ===================== */
    :root {
      --bg-light: #FAF6F1;
      --bg-dark: #2B2B2B;
      --text-light: #333;
      --text-dark: #EEE;
      --primary: #6f4e37;       /* coffee brown */
      --accent: #D84315;        /* terracotta */
      --promo-bg: #FFECB3;      /* pale yellow */
    }
    html[data-theme="dark"] {
      --bg: var(--bg-dark);
      --text: var(--text-dark);
    }
    html[data-theme="light"] {
      --bg: var(--bg-light);
      --text: var(--text-light);
    }
    html { background: var(--bg); color: var(--text); }

    body {
      margin:0; padding:0;
      font-family: 'Inter', sans-serif;
      transition: background 0.3s, color 0.3s;
    }
    a { color: var(--primary); text-decoration: none; }
    a:hover { text-decoration: underline; }

    /* NAVBAR + THEME TOGGLE */
    header {
      background: var(--primary);
      color: white;
      padding: 1rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .logo { font-size:1.5rem; font-weight:600; }
    nav a { margin: 0 1rem; font-weight:500; color:white; }
    .theme-toggle {
      background:transparent;
      border:1px solid white;
      border-radius:4px;
      color:white;
      padding:0.25rem 0.75rem;
      cursor:pointer;
    }

    /* HERO */
    .hero {
      background: url("https://images.unsplash.com/photo-1509042239860-f550ce710b93?auto=format&fit=crop&w=1600&q=80") center/cover no-repeat;
      padding:4rem 2rem;
      text-align:center;
      position:relative;
      color:white;
    }
    .hero::before {
      content:""; position:absolute; inset:0;
      background:rgba(0,0,0,0.5);
    }
    .hero .content {
      position:relative; z-index:1;
      max-width:600px; margin:auto;
    }
    .hero h1 { font-size:2.5rem; margin-bottom:1rem; }
    .hero p { font-size:1.1rem; margin-bottom:1.5rem; }
    .hero .btn {
      background:var(--accent);
      color:white;
      padding:0.75rem 1.5rem;
      border:none; border-radius:4px;
      cursor:pointer;
      font-weight:600;
    }

    /* CONTROLS: SEARCH + SORT + CAT */
    .controls {
      display:flex;
      flex-wrap:wrap;
      gap:1rem;
      justify-content:center;
      padding:2rem 1rem;
    }
    .controls > * { font-size:0.9rem; padding:0.5rem; }
    #search { width:200px; }
    #productNames { display:none; }
    .categories {
      display:flex;
      gap:1rem;
      justify-content:center;
      flex-wrap:wrap;
      margin-top:1rem;
    }
    .categories button {
      background:var(--primary);
      color:white;
      border:none;
      border-radius:4px;
      padding:0.5rem 1rem;
      cursor:pointer;
    }
    .categories button.active {
      background:var(--accent);
    }

    /* PROMO BANNER */
    .promo {
      background:var(--promo-bg);
      color:var(--text);
      text-align:center;
      padding:1rem;
      font-weight:600;
    }

    /* PRODUCT GRID */
    #products {
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(240px,1fr));
      gap:2rem;
      padding:2rem;
    }
    .product-card {
      background:white;
      border-radius:8px;
      box-shadow:0 4px 10px rgba(0,0,0,0.4);
      overflow:hidden;
      display:flex;
      flex-direction:column;
    }
    .product-card img {
      width:100%; height:160px;
      object-fit:cover;
    }
    .info {
      padding:1rem;
      flex:1;
      display:flex;
      flex-direction:column;
    }
    .info h3 {
      margin:0; font-size:1.1rem; color:var(--primary);
    }
    .info .rating {
      color: #FFD700; /* gold */
      margin:0.25rem 0;
    }
    .info p.price {
      font-weight:600; margin:0.5rem 0;
    }
    .info p.desc {
      font-size:0.9rem;
      color:#555;
      margin:0.5rem 0 1rem;
      flex-grow:1;
    }
    .actions {
      display:flex; gap:0.5rem;
    }
    .actions button {
      flex:1;
      border:none; border-radius:4px;
      padding:0.5rem; cursor:pointer;
      font-size:0.9rem;
    }
    .actions .add {
      background:var(--accent); color:white;
    }
    .actions .details {
      background:transparent; color:var(--accent);
      border:1px solid var(--accent);
    }

    /* TESTIMONIALS */
    .testimonials {
      background:var(--primary);
      color:white;
      padding:3rem 1rem;
      text-align:center;
    }
    .testimonials h2 { margin-bottom:1rem; }
    .testimonials .quote {
      max-width:600px;
      margin:1rem auto;
      font-style:italic;
    }

    /* NEWSLETTER */
    .newsletter {
      background:var(--bg-light);
      padding:2rem 1rem;
      text-align:center;
    }
    .newsletter input {
      padding:0.5rem; width:200px; border:1px solid #ccc; border-radius:4px;
    }
    .newsletter button {
      padding:0.5rem 1rem; margin-left:0.5rem;
      border:none; background:var(--accent); color:white;
      border-radius:4px; cursor:pointer;
    }

    /* FOOTER */
    footer {
      background:var(--primary);
      color:white;
      text-align:center;
      padding:1rem;
      margin-top:2rem;
    }

    /* RESPONSIVE */
    @media (max-width:768px) {
      .hero h1 { font-size:2rem; }
    }
  </style>
</head>
<body data-theme="light">
  <!-- NAVBAR & THEME SWITCH -->
  <header>
    <div class="logo">‚òï Coffee Shop</div>
    <nav>
      <a href="index.html">Home</a>
      <a href="product.html">Products</a>
      <a href="checkout.html">Checkout</a>
      <a href="login.html">Login</a>
    </nav>
    <button class="theme-toggle" onclick="toggleTheme()">üåì</button>
  </header>

  <!-- HERO -->
  <section class="hero">
    <div class="content">
      <h1>Discover Your Perfect Brew</h1>
      <p>From rich espressos to frothy lattes‚Äîfind it all here.</p>
      <button class="btn" onclick="scrollToProducts()">Shop Now</button>
    </div>
  </section>

  <!-- SEARCH & CATEGORIES -->
  <div class="controls">
    <input id="search" list="productNames" placeholder="Search coffee..." oninput="loadProducts()">
    <datalist id="productNames"></datalist>
    <select id="sort" onchange="loadProducts()">
      <option value="">Sort by</option>
      <option value="low">Price: Low ‚Üí High</option>
      <option value="high">Price: High ‚Üí Low</option>
    </select>
  </div>
  <div class="categories" id="categories"></div>

  <!-- PROMO -->
  <div class="promo">üöö Free shipping on all orders over ‚Çπ500!</div>

  <!-- PRODUCT GRID -->
  <div id="products"></div>

  <!-- TESTIMONIALS -->
  <section class="testimonials">
    <h2>What Our Customers Say</h2>
    <p class="quote">‚ÄúAbsolutely love the quality. My morning latte never tasted better!‚Äù</p>
    <p class="quote">‚ÄúFast delivery and the flavors are spot on. Highly recommend!‚Äù</p>
  </section>

  <!-- NEWSLETTER -->
  <section class="newsletter">
    <h2>Join Our Coffee Club</h2>
    <input type="email" id="newsletterEmail" placeholder="Your email">
    <button onclick="subscribe()">Subscribe</button>
    <p id="newsletterFeedback"></p>
  </section>

  <!-- FOOTER -->
  <footer>&copy; 2025 Coffee Shop. All rights reserved.</footer>

  <script src="data.js"></script>
  <script>
    // THEME TOGGLE
    function toggleTheme() {
      const html = document.documentElement;
      html.dataset.theme = html.dataset.theme === 'light' ? 'dark' : 'light';
    }

    // SCROLL TO PRODUCTS
    function scrollToProducts() {
      document.getElementById('products').scrollIntoView({behavior:'smooth'});
    }

    // DATASLIST FOR SMART SEARCH
    const allProducts = getProducts();
    function initDatalist() {
      const list = document.getElementById('productNames');
      list.innerHTML = allProducts.map(p => `<option value="${p.name}">`).join('');
    }

    // RENDER CATEGORIES
    let currentCategory = '';
    function initCategories() {
      const cats = [...new Set(allProducts.map(p => p.category || 'General'))];
      const container = document.getElementById('categories');
      container.innerHTML = `<button class="${!currentCategory?'active':''}" onclick="setCategory('')">All</button>` +
        cats.map(cat =>
          `<button class="${currentCategory===cat?'active':''}" onclick="setCategory('${cat}')">${cat}</button>`
        ).join('');
    }
    function setCategory(cat) {
      currentCategory = cat;
      initCategories();
      loadProducts();
    }

    initDatalist();
    initCategories();

    // LOAD PRODUCTS
    function loadProducts() {
      const list = document.getElementById('products');
      const search = document.getElementById('search').value.toLowerCase();
      const sort = document.getElementById('sort').value;
      let filtered = allProducts.filter(p => {
        const matchText = p.name.toLowerCase().includes(search);
        const matchCat = currentCategory ? p.category === currentCategory : true;
        return matchText && matchCat;
      });
      if (sort==='low') filtered.sort((a,b)=>a.price-b.price);
      if (sort==='high') filtered.sort((a,b)=>b.price-a.price);

      list.innerHTML = filtered.map((p,i)=> {
        // build stars
        const full = Math.floor(p.rating);
        const half = p.rating%1>=0.5 ? '¬Ω' : '';
        const stars = '‚òÖ'.repeat(full) + half + '‚òÜ'.repeat(5-full-(half?1:0));
        return `
          <div class="product-card">
            <img src="${p.image}" alt="${p.name}">
            <div class="info">
              <h3>${p.name}</h3>
              <p class="rating">${stars}</p>
              <p class="price">‚Çπ${p.price}</p>
              <p class="desc">${p.description}</p>
              <div class="actions">
                <button class="details" onclick="alert('Details for ${p.name}')">Details</button>
                <button class="add" onclick="addToCart('${p.name}',${p.price},'qty-${i}')">Add to Cart</button>
              </div>
            </div>
          </div>`;
      }).join('');
    }

    // CART + FEEDBACK
    function addToCart(name, price) {
      const cart = JSON.parse(localStorage.getItem('cart'))||[];
      cart.push({name,price,quantity:1});
      localStorage.setItem('cart',JSON.stringify(cart));
      alert(`${name} added to cart`);
    }

    // NEWSLETTER
    function subscribe() {
      const email = document.getElementById('newsletterEmail').value;
      document.getElementById('newsletterFeedback').innerText = email
        ? "üéâ Thanks for subscribing!"
        : "Please enter a valid email.";
    }

    // INITIAL
    window.onload = loadProducts;
  </script>
</body>
</html>
